---
slug: paralus-audit-logs
title: "How To Use Audit Logs In Paralus"
authors: [atul]
tags: [paralus]
---

The concept of safety and security have been prevalent from the early days of human existence. Back in the day, watch towers and sentries were a way for kings to keep a watch on their surroundings.

In the modern day setup, information security is a bigger challenge than physical security. Confidential & sensitive data runs into petabytes and it becomes all the more important to safeguard not only the data but the entire infrastructure.

<!--truncate-->

Businesses today employ an array of security solutions to safeguard their infrastructure. A common and vital element of any security strategy/tool is logging.

Logs are digital, text based records of all the activities that happen in an organization. These provide you with an audit trail that you can use to monitor various activities within your organization, identify policy violations and any unusual activity.

Logs can be generated by various systems in your environment - applications, firewalls, network devices and the likes. These are a great way to know what is happening/happened, who did it, when did it happen, where did it happen. These details play a critical role during compliance audits.

## Logging in Kubernetes

Kubernetes as we all know is the most widely used container orchestration with a lot of moving parts. Nodes, clusters, pods, services, replica sets and a lot of other things.

Logging activities across all these elements isn't an easy task, especially due to its ephemeral and dynamic nature.  With such a nature, Kubenetes provides three different types of logs:

1. **Application logs:** Logs from apps deployed in clusters that help understand what's happening in the app.
2. **Kubernetes Cluster components:** Logs from API-server, etcd, kube-proxy etc. that help troubleshoot cluster issues.
3. **Kubernetes audit logs:** Logs related to API activity primarily used for audit & governance purposes.

In this post we'll focus on Kubernetes Audit logs.

Kubernetes provides a way to keep audit logs with a sequence of events that take place in a cluster. These are generated by users, applications or the control plane itself. Audit logs are generated for every request that generates an audit event and processed according to an audit policy.

Audit Policy: An audit policy defines rules for all the events that should be recorded and the data that it will include.

The audit levels in the policy are:

* `none`: don't log any events
* `metadata`: log only metadata
* `request`: log metadata and request body
* `requestresponse`: log metadata, request and response bodies.

When an event is raised, the above rules are processed in order and are logged. We suggest you read more about [Kubernetes Audit Logging](https://kubernetes.io/docs/tasks/debug/debug-cluster/audit/) to know this better.

Let us now look into how logging works in Paralus.

## Audit Logs in Paralus

All the API actions that are performed by any user using Paralus are recorded as part of the audit logs in Paralus. These provide a sequential log of activities that - *an audit trail*- that acts as evidence during compliance checks and other investigations.

These logs are generated by actions performed by any authorized user across the organization. Further, any user across the organization can view the logs, but none of it could be deleted.

Paralus allows you to track two types of logs:

1. **System Logs**
2. **Kubectl Logs**

**System Logs:** These types of logs contain the entire history of activities performed in a specific organization. Activities like adding a user, creating a project, generating a new kubeconfig etc. are recorded.

**Kubectl Logs:** These logs contain the history of kubectl commands executed from the web & API requests under each project. So all the kubectl commands executed either from the dashboard or pctl CLI tool will be recorded here.

For both these types of logs, Paralus logs quite a few details that will help you identify and audit trails.

<img src="/img/docs/logs-system.png" alt="Audit Logs In Paralus" height="90%" width="90%"/>

Read more about [Audit logs](https://www.paralus.io/docs/usage/audit-logs).

## How To Use Audit Logs In Paralus

Every action performed by a user on any resource is logged by Paralus. You can use these logs along with an audit trail and ensure compliance and block malicious activities. Below are a few use cases where you can use Paralus's audit log capabilities

### Auditing request IP addresses for compromised credentials

One of the good things about audit logs is that it provides you with an **audit trail of all the activities** that have taken place during a specific period. In Paralus too, the audit logs provide you with details like **IP address**, **host**, **action**, **command executed** along with other helpful details. In an event when you notice suspicious activity within your Kubernetes infrastructure, you can use these audit logs to help you with an audit trail.

Audit trails can help your identify if one of your authorized users has been accessing your cluster resources but from different IP addresses that aren't from your network. You know something isn't right. Carefully examining the request IP addresses in the audit logs, youâ€™ll be able to figure out the compromised credentials. After you have identified the user, you can immediately revoke their access and launch an investigation to find the exact root cause.

### Inspecting Logs From Multiple Clusters

A core feature that Paralus offers out of the box is the ability to **import and manage multiple clusters**. These clusters can reside on your on-prem or be managed by a cloud service provider. Paralus allows you to manage them from a single dashboard.

<img src="/img/docs/logs-kubectl.png" alt="Kubectl Logs in Paralus" height="90%" width="90%"/>

What that also does is that it allows you to view the activities that are happening across different clusters. The audit logs feature in Paralus lists down all the activities along with the project, cluster and the action performed. It allows an organization admin to inspect all the audit trails generated for every cluster irrespective of where they are.

## Conclusion

Logging as we discussed earlier is one of the simplest forms to monitor activities in your system. When it comes to Kubernetes, it also provides logging for applications, Kubernetes clusters and audit logs. Paralus takes it up a notch and allows you to view and manage activity logs from multiple clusters. Audit logs in Paralus provides you with audit trails from across all the clusters in a single dashboard. These logs are effective and help you monitor activities across your Kubernetes infrastructure. Refer to our Audit Logs guide to know more.

In case you need any further inputs, feel free to join our [Slack channel](https://join.slack.com/t/paralus/shared_invite/zt-1a9x6y729-ySmAq~I3tjclEG7nDoXB0A) or connect with us on [Twitter](https://twitter.com/paralus_).
